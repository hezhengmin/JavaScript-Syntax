<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div id="app">
            <table>
                <tr>
                    <th>
                        <input type="checkbox" v-model="selectAll" />
                        全選
                    </th>
                    <th>姓名</th>
                </tr>
                <tr v-for="(data , index)  in dataList">
                    <td>
                        <input
                            type="checkbox"
                            v-model="seletedItem"
                            v-bind:value="data.name"
                        />
                    </td>
                    <td>{{data.name}}</td>
                </tr>
            </table>
        </div>
        <script src="vue.js"></script>
        <script>
            let vm = new Vue({
                el: "#app",
                data: {
                    dataList: [
                        { name: "小明" },
                        { name: "小華" },
                        { name: "小智" },
                    ],
                    seletedItem: [],
                },
                computed: {
                    selectAll: {
                        get: function () {
                            return this.dataList
                                ? this.seletedItem.length ===
                                      this.dataList.length
                                : false;
                        },
                        set: function (value) {
                            var selected = [];

                            if (value) {
                                this.dataList.forEach(function (item) {
                                    selected.push(item.name);
                                });
                            }
                            this.seletedItem = selected;
                        },
                    },
                },
            });
        </script>
    </body>
</html>
